<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - FitPro</title>

    <!-- Core libraries -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Fonts and icons -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Kendo UI -->
    <link href="https://kendo.cdn.telerik.com/themes/6.7.0/default/default-main.css" rel="stylesheet">
    <script src="https://kendo.cdn.telerik.com/2023.1.117/js/kendo.all.min.js"></script>
    
    <!-- Calendar dependencies -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.10.2/fullcalendar.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.10.2/fullcalendar.min.js"></script>
    
    <!-- Additional libraries -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/microsoft-signalr/7.0.0/signalr.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    
    <!-- Custom styles -->
    <link rel="stylesheet" href="@Url.Content("~/css/User/style.css")" asp-append-version="true">
</head>

<body>
    <nav class="navbar">
        <div class="logo">
            <img src="~/img/logo.png" alt="FitPro Logo" />
        </div>
        <ul class="nav-links">
            <li><a href="#" onclick="home()">Home</a></li>
            <li><a href="#classes" onclick="classes()">Classes</a></li>
            <li><a href="#" onclick="myclasses()">My Classes</a></li>
            <li><a href="#" onclick="Schedule()"> Schedule</a></li>
            <li><a href="#" onclick="ExploreBlogs()"> Explore Blogs</a></li>
        </ul>

        <!-- Wrap everything inside .profile-wrapper -->
        <div class="profile-wrapper">
            <div class="position-relative d-inline-block notification-bell"
                style="margin-right: 22px; margin-top: 0px;">
                <button class="btn btn-outline-light position-relative" onclick="openNotifications()">
                    <i class="fas fa-bell"></i>
                    <span id="notificationCount"
                        class="badge bg-danger position-absolute top-0 start-100 translate-middle"></span>
                </button>

                <!-- Notifications Dropdown -->
                <div id="notificationDropdown" class="dropdown-menu shadow mt-2 p-0"
                    style="display: none; width: 320px; position: absolute;">

                    <!-- Scrollable Notification List -->
                    <ul id="notificationList" class="list-group list-group-flush">
                        <li class="list-group-item text-center text-muted">No new notifications</li>
                    </ul>

                    <!-- Mark all as read -->
                    <div class="p-2 border-top bg-light">
                        <button class="btn btn-sm btn-warning w-100" onclick="markAllAsRead()">Mark all as read</button>
                    </div>
                </div>
            </div>
            
            <img src="~/img/fitlogo.png" alt="Profile" class="profile-img" />
            <div class="profile-dropdown">
                <a onclick="showProfileDrawer()">Update Profile</a>
                <a onclick="showLogoutConfirmation()">Logout</a>
            </div>
        </div>
    </nav>

    <div class="container" style="max-width: 100%;">
        <main role="main" class="pb-3">
            @RenderBody()
        </main>
    </div>

    <!-- Scripts -->
    <script src="~/js/site.js" asp-append-version="true"></script>
    <script src="~/js/User/Main.js" asp-append-version="true"></script>
    <script>
        document.querySelector('.profile-img').addEventListener('click', function () {
            document.querySelector('.profile-dropdown').style.display =
                document.querySelector('.profile-dropdown').style.display === 'block' ? 'none' : 'block';
        });
    </script>
    @await RenderSectionAsync("Scripts", required: false)
</body>

</html>
